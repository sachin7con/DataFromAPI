<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Array from API</title>
  </head>
  <body>
    <!-- SGN -->
    <button id="btn" type="submit">Button</button>
    <div id="datafromapi"></div>


  <script>
  function PromiseAPI1(){
    return new Promise((resolve, reject) =>{
      setTimeout(() => {
        fetch('https://dummyjson.com/posts')
        .then(response => response.json())
        .then(data => {
          document.getElementById("datafromapi").innerHTML += `<h2>Posts</h2>` + JSON.stringify(data);
          resolve(true);})
        .catch(e => reject(e));
      },1000);
    });
  }

  function PromiseAPI2(){
    return new Promise((resolve, reject) =>{
      setTimeout(() => {
        fetch('https://dummyjson.com/products')
        .then(response => response.json())
        .then(data => {document.getElementById("datafromapi").innerHTML += `<h2>Products</h2>` + JSON.stringify(data);
        resolve(true); })
        .catch(e => reject(e));

      },2000);
    });
  }
  function PromiseAPI3(){
    return new Promise((resolve, reject) =>{
      setTimeout(() => {
        fetch('https://dummyjson.com/todos')
        .then(response => response.json())
        .then(data => { document.getElementById("datafromapi").innerHTML += `<h2>ToDOs</h2>` + JSON.stringify(data);
          resolve(true);})
        .catch(e => reject(e));
      },3000);
    });
  }




    const btn = document.getElementById("btn");
    btn.addEventListener('click', () =>{
      PromiseAPI1()
      .then(result => {
        if(result){
            return PromiseAPI2();
          }
        })
      .then(result => {
        if(result){
          return PromiseAPI3();
        }
      }).catch(error => console.log(error));
    });










  </script>
  </body>
</html>
